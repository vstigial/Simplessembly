global(main);
begin_label(main);
	external(printf);

	alias(raw, variatic, printf, "

    mov rbp, rsp
    xor rax, rax
    mov rdi, %{arg0}
    mov rsi, %{arg1}
    mov rdx, %{arg2}
    mov rcx, %{arg3}
    mov r9, %{arg4}
    mov r8, %{arg5}
    push %rl{...}
    and rsp, -16
    call printf
    mov rsp, rbp

	");

	alias(raw, read, "
    mov rax, 0
    mov rdi, 0
    mov rsi, %{arg0}
    mov rdx, %{arg1}
    syscall
	");

	reserve(resb, 8, msgbuf);

	str_var(db, msg, "msg");
	str_var(db, fmt, "%s %s %s %s %s %s %s %s %s %s %s %s\n");


	read(msgbuf, 15);
	printf(msgbuf);

	printf(fmt, msg, msg, msg, msg, msg, msg, msg, msg, msg, msg, msg, msg);

	exit(0);
